@{
    var userRole = ViewContext.HttpContext.Session.GetString("UserRole") ?? "Patient";
    var currentPath = ViewContext.HttpContext.Request.Path.ToString();
}

<!-- Sidebar wrapper starts -->
<nav id="sidebar" class="sidebar-wrapper">

  <!-- Brand container starts -->
  <div class="brand-container d-flex align-items-center justify-content-between">

    <!-- App brand starts -->
    <div class="app-brand ms-3">
      <a href="~/Dashboard">
        <img src="~/ApolloTheme/assets/images/logo.svg" class="logo" alt="CareSync">
      </a>
    </div>
    <!-- App brand ends -->

    <!-- Pin sidebar starts -->
    <button type="button" class="pin-sidebar me-3">
      <i class="ri-menu-line"></i>
    </button>
    <!-- Pin sidebar ends -->

  </div>
  <!-- Brand container ends -->

  <!-- Sidebar profile starts -->
  <div class="sidebar-profile">
    @if (userRole == "Admin")
    {
      <img src="~/ApolloTheme/assets/images/admin.png" class="rounded-5" alt="CareSync">
      <h6 class="mb-1 profile-name text-nowrap text-truncate text-primary">System Admin</h6>
      <small class="profile-name text-nowrap text-truncate">Administrator</small>
    }
    else if (userRole == "Doctor")
    {
      <img src="~/ApolloTheme/assets/images/doctor6.png" class="rounded-5" alt="CareSync">
      <h6 class="mb-1 profile-name text-nowrap text-truncate text-primary">Dr. Smith</h6>
      <small class="profile-name text-nowrap text-truncate">Medical Doctor</small>
    }
    else
    {
      <img src="~/ApolloTheme/assets/images/patient2.png" class="rounded-5" alt="CareSync">
      <h6 class="mb-1 profile-name text-nowrap text-truncate text-primary">Patient User</h6>
      <small class="profile-name text-nowrap text-truncate">Patient</small>
    }
  </div>
  <!-- Sidebar profile ends -->

  <!-- Sidebar menu starts -->
  <div class="sidebarMenuScroll">
    <ul class="sidebar-menu">
      
      @if (userRole == "Admin")
      {
        <!-- Admin Dashboard -->
        <li class="@(currentPath.Contains("/Admin/Dashboard") ? "current-page" : "")">
          <a href="~/Admin/Dashboard">
            <i class="ri-dashboard-line"></i>
            <span class="menu-text">Admin Dashboard</span>
          </a>
        </li>
        
        <!-- User Management -->
        <li class="@(currentPath.Contains("/Admin/Users") ? "current-page" : "")">
          <a href="~/Admin/Users">
            <i class="ri-user-settings-line"></i>
            <span class="menu-text">User Management</span>
          </a>
        </li>
        
        <!-- Role Management -->
        <li class="@(currentPath.Contains("/Admin/Roles") ? "current-page" : "")">
          <a href="~/Admin/Roles">
            <i class="ri-shield-user-line"></i>
            <span class="menu-text">Role Management</span>
          </a>
        </li>
        
        <!-- Role Rights Mapping -->
        <li class="@(currentPath.Contains("/Admin/RoleRights") ? "current-page" : "")">
          <a href="~/Admin/RoleRights">
            <i class="ri-key-line"></i>
            <span class="menu-text">Role Rights</span>
          </a>
        </li>
        
        <!-- System Overview -->
        <li class="@(currentPath.Contains("/Admin/SystemOverview") ? "current-page" : "")">
          <a href="~/Admin/SystemOverview">
            <i class="ri-bar-chart-line"></i>
            <span class="menu-text">System Overview</span>
          </a>
        </li>
      }
      else if (userRole == "Doctor")
      {
        <!-- Doctor Dashboard -->
        <li class="@(currentPath.Contains("/Doctor/Dashboard") ? "current-page" : "")">
          <a href="~/Doctor/Dashboard">
            <i class="ri-dashboard-line"></i>
            <span class="menu-text">Dashboard</span>
          </a>
        </li>
        
        <!-- Doctor Profile -->
        <li class="@(currentPath.Contains("/Doctor/Profile") ? "current-page" : "")">
          <a href="~/Doctor/Profile">
            <i class="ri-user-line"></i>
            <span class="menu-text">My Profile</span>
          </a>
        </li>
        
        <!-- Appointments -->
        <li class="@(currentPath.Contains("/Doctor/Appointments") ? "current-page" : "")">
          <a href="~/Doctor/Appointments">
            <i class="ri-calendar-line"></i>
            <span class="menu-text">Appointments</span>
          </a>
        </li>
        
        <!-- Prescriptions -->
        <li class="@(currentPath.Contains("/Doctor/Prescriptions") ? "current-page" : "")">
          <a href="~/Doctor/Prescriptions">
            <i class="ri-medicine-bottle-line"></i>
            <span class="menu-text">Prescriptions</span>
          </a>
        </li>
      }
      else if (userRole == "Patient")
      {
        <!-- Patient Dashboard -->
        <li class="@(currentPath.Contains("/Patient/Dashboard") ? "current-page" : "")">
          <a href="~/Patient/Dashboard">
            <i class="ri-dashboard-line"></i>
            <span class="menu-text">My Dashboard</span>
          </a>
        </li>
        
        <!-- My Profile -->
        <li class="@(currentPath.Contains("/Patient/Profile") ? "current-page" : "")">
          <a href="~/Patient/Profile">
            <i class="ri-user-line"></i>
            <span class="menu-text">My Profile</span>
          </a>
        </li>
        
        <!-- Medical History -->
        <li class="@(currentPath.Contains("/Patient/MedicalHistory") ? "current-page" : "")">
          <a href="~/Patient/MedicalHistory">
            <i class="ri-file-text-line"></i>
            <span class="menu-text">Medical History</span>
          </a>
        </li>
        
        <!-- Health Vitals -->
        <li class="@(currentPath.Contains("/Patient/Vitals") ? "current-page" : "")">
          <a href="~/Patient/Vitals">
            <i class="ri-heart-pulse-line"></i>
            <span class="menu-text">Health Vitals</span>
          </a>
        </li>
        
        <!-- My Appointments -->
        <li class="@(currentPath.Contains("/Patient/Appointments") ? "current-page" : "")">
          <a href="~/Patient/Appointments">
            <i class="ri-calendar-check-line"></i>
            <span class="menu-text">My Appointments</span>
          </a>
        </li>
      }
      
      <!-- Logout (Common for all roles) -->
      <li class="mt-4">
        <a href="~/Auth/Logout" class="text-danger">
          <i class="ri-logout-box-line"></i>
          <span class="menu-text">Logout</span>
        </a>
      </li>
    </ul>
  </div>
  <!-- Sidebar menu ends -->

  <!-- Sidebar contact starts -->
  <div class="sidebar-contact">
    <p class="fw-light mb-1 text-nowrap text-truncate">Emergency Contact</p>
    <h5 class="m-0 lh-1 text-nowrap text-truncate">0987654321</h5>
    <i class="ri-phone-line"></i>
  </div>
  <!-- Sidebar contact ends -->

</nav>
<!-- Sidebar wrapper ends -->
